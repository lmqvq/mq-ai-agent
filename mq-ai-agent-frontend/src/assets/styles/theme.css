/* =================================================================
   全局主题CSS变量系统
   
   设计原则:
   1. 所有颜色通过CSS变量定义
   2. 组件只引用变量，不写硬编码颜色
   3. 亮色/暗色模式通过覆盖变量实现
   4. 互不干扰，易于维护
================================================================= */

/* -----------------------------------------------------------------
   亮色模式（默认）
----------------------------------------------------------------- */
:root {
  /* === 背景 === */
  --theme-bg-page: #f0f2f5;           /* 页面背景 */
  --theme-bg-container: #ffffff;      /* 容器背景 */
  --theme-bg-card: #ffffff;           /* 卡片背景 */
  --theme-bg-card-hover: #fafafa;     /* 卡片悬停 */
  --theme-bg-sidebar: #ffffff;        /* 侧边栏 */
  --theme-bg-input: #ffffff;          /* 输入框 */
  --theme-bg-hover: rgba(0,0,0,0.04); /* 悬停状态 */
  --theme-bg-active: rgba(102,126,234,0.1); /* 激活状态 */
  
  /* === 文字 === */
  --theme-text-primary: #1a202c;      /* 主要文字 */
  --theme-text-secondary: #5a6c7d;    /* 次要文字 */
  --theme-text-tertiary: #999999;     /* 辅助文字 */
  --theme-text-muted: #8e8e93;        /* 淡色文字 */
  --theme-text-disabled: #c0c0c0;     /* 禁用文字 */
  --theme-text-inverse: #ffffff;      /* 反色文字 */
  
  /* === 边框 === */
  --theme-border-primary: #e8e8e8;    /* 主边框 */
  --theme-border-secondary: #f0f0f0;  /* 次边框 */
  --theme-border-hover: #d0d0d0;      /* 悬停边框 */
  
  /* === 阴影 === */
  --theme-shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
  --theme-shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --theme-shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
  
  /* === 主色 === */
  --theme-color-primary: #667eea;     /* 主色 */
  --theme-color-primary-hover: #5a6fd6;
  --theme-color-primary-light: rgba(102,126,234,0.1);
  --theme-color-success: #52c41a;
  --theme-color-warning: #faad14;
  --theme-color-error: #f5222d;
  
  /* === 消息气泡 === */
  --theme-message-user-bg: linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%);
  --theme-message-ai-bg: #F2F2F7;
  
  /* === 渐变 === */
  --theme-gradient-fade: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.95));
  
  /* === 组件特定 === */
  --theme-icon-color: #666666;
  --theme-icon-active: #667eea;
  --theme-btn-primary-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --theme-menu-active-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* -----------------------------------------------------------------
   暗色模式 - 参考 WONG公益站 设计风格
----------------------------------------------------------------- */
html.dark-theme {
  /* === 背景 === */
  --theme-bg-page: #0d0e12;           /* 页面背景 - 纯深黑 */
  --theme-bg-container: #131419;      /* 容器背景 */
  --theme-bg-card: #1a1b20;           /* 卡片背景 */
  --theme-bg-card-hover: #1f2026;     /* 卡片悬停 */
  --theme-bg-sidebar: #131419;        /* 侧边栏 */
  --theme-bg-input: #1a1b20;          /* 输入框 */
  --theme-bg-hover: rgba(255,255,255,0.06); /* 悬停状态 */
  --theme-bg-active: rgba(59,130,246,0.15); /* 激活状态 */
  
  /* === 文字 === */
  --theme-text-primary: #ffffff;      /* 主要文字 - 纯白 */
  --theme-text-secondary: #9ca3af;    /* 次要文字 */
  --theme-text-tertiary: #6b7280;     /* 辅助文字 */
  --theme-text-muted: #6b7280;        /* 淡色文字 */
  --theme-text-disabled: #4b5563;     /* 禁用文字 */
  --theme-text-inverse: #0d0e12;      /* 反色文字 */
  
  /* === 边框 === */
  --theme-border-primary: rgba(255,255,255,0.1);
  --theme-border-secondary: rgba(255,255,255,0.06);
  --theme-border-hover: rgba(255,255,255,0.15);
  
  /* === 阴影 === */
  --theme-shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
  --theme-shadow-md: 0 4px 12px rgba(0,0,0,0.4);
  --theme-shadow-lg: 0 8px 24px rgba(0,0,0,0.5);
  
  /* === 主色 === */
  --theme-color-primary: #3b82f6;     /* 主色 - 蓝色 */
  --theme-color-primary-hover: #60a5fa;
  --theme-color-primary-light: rgba(59,130,246,0.15);
  --theme-color-success: #22c55e;
  --theme-color-warning: #f59e0b;
  --theme-color-error: #ef4444;
  
  /* === 消息气泡 === */
  --theme-message-user-bg: #3b82f6;
  --theme-message-ai-bg: #1a1b20;
  
  /* === 渐变 === */
  --theme-gradient-fade: linear-gradient(180deg, transparent, rgba(13, 14, 18, 0.98));
  
  /* === 组件特定 === */
  --theme-icon-color: #9ca3af;
  --theme-icon-active: #3b82f6;
  --theme-btn-primary-bg: #3b82f6;
  --theme-menu-active-bg: #3b82f6;
}

/* -----------------------------------------------------------------
   全局基础样式
----------------------------------------------------------------- */
html, body {
  background-color: var(--theme-bg-page);
  color: var(--theme-text-primary);
}

/* 平滑过渡 - 只对特定属性 */
*, *::before, *::after {
  transition-property: background-color, border-color, color, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

/* -----------------------------------------------------------------
   Arco Design 组件暗黑模式覆盖
   注意：Arco 的下拉弹窗是挂载到 body 上的，需要多种选择器
----------------------------------------------------------------- */

/* ========== 暗黑模式 ========== */

/* Select 下拉菜单 - 暗黑模式（多种选择器确保覆盖） */
html.dark-theme .arco-select-dropdown,
.dark-theme .arco-select-dropdown,
body.dark-theme .arco-select-dropdown {
  background-color: #1a1b20 !important;
  border: 1px solid rgba(255,255,255,0.15) !important;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6) !important;
}

html.dark-theme .arco-select-option,
.dark-theme .arco-select-option,
body.dark-theme .arco-select-option {
  color: #ffffff !important;
  background-color: transparent !important;
}

html.dark-theme .arco-select-option:hover,
html.dark-theme .arco-select-option.arco-select-option-hover,
.dark-theme .arco-select-option:hover,
.dark-theme .arco-select-option.arco-select-option-hover {
  background-color: rgba(255,255,255,0.1) !important;
}

html.dark-theme .arco-select-option.arco-select-option-selected,
.dark-theme .arco-select-option.arco-select-option-selected {
  color: #3b82f6 !important;
  background-color: rgba(59,130,246,0.2) !important;
}

html.dark-theme .arco-select-option-content,
.dark-theme .arco-select-option-content {
  color: inherit !important;
}

/* Select 选择器视图 - 暗黑模式 */
html.dark-theme .arco-select-view,
.dark-theme .arco-select-view {
  background-color: #1a1b20 !important;
  border-color: rgba(255,255,255,0.15) !important;
  color: #ffffff !important;
}

html.dark-theme .arco-select-view-value,
html.dark-theme .arco-select-view-single .arco-select-view-value,
.dark-theme .arco-select-view-value,
.dark-theme .arco-select-view-single .arco-select-view-value {
  color: #ffffff !important;
}

html.dark-theme .arco-select-view-suffix .arco-select-view-icon,
.dark-theme .arco-select-view-suffix .arco-select-view-icon {
  color: #9ca3af !important;
}

/* ========== 亮色模式（默认） ========== */

/* Select 下拉菜单 - 亮色模式 */
.arco-select-dropdown {
  background-color: #ffffff;
  border: 1px solid #e8e8e8;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.arco-select-option {
  color: #1a202c;
}

.arco-select-option:hover,
.arco-select-option.arco-select-option-hover {
  background-color: rgba(0,0,0,0.04);
}

.arco-select-option.arco-select-option-selected {
  color: #667eea;
  background-color: rgba(102,126,234,0.1);
}

/* Select 选择器视图 - 亮色模式 */
.arco-select-view {
  background-color: #ffffff;
  border-color: #e8e8e8;
  color: #1a202c;
}

.arco-select-view-value {
  color: #1a202c;
}

.arco-select-view-suffix .arco-select-view-icon {
  color: #5a6c7d;
}
